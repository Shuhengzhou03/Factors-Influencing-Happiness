---
title: "What Makes Us Happy? Unveiling the Impact of Social, Economic, and Personal Factors"
subtitle: "Marital Status and Job Satisfaction as Major Positive Predictors of Happiness: A Bayesian Analysis of Socio-Economic and Personal Factors Influencing Well-Being"
author: "Shuheng (Jack) Zhou"
thanks: "The GitHub Repository containing all data, R code, and other files used in this project is located here:<https://github.com/Shuhengzhou03/Factors-Influencing-Happiness.git>"
date: today
date-format: long
abstract: "This study leverages a logistic regression model to investigate the influence of diverse social, economic, and personal factors on self-reported happiness. Focusing on key variables such as income, marital status, education level, job satisfaction, and the number of children, the research provides a nuanced examination of their impact on individual well-being. The findings underscore the relative importance of these factors, offering a deeper understanding of the intricate interplay between socioeconomic conditions and personal happiness, while pinpointing the most salient predictors of well-being."
format: pdf
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(palmerpenguins)
library(broom)
library(ggplot2)
library(dplyr)
library(tidyr)
library(arrow)
library(scales)
library(rstanarm)
library(brms)
library(knitr)
library(bayesplot)

# Load the dataset
data <- read_parquet(here::here("data/02-analysis_data/cleaned_happiness_data.parquet"))
```


# Introduction {#sec-intro}

Happiness is a cornerstone of human well-being and a long-standing focus of psychological and sociological inquiry. Despite extensive research, understanding the intricate interplay of factors contributing to happiness remains a formidable challenge. While prior studies have primarily centered on socio-economic determinants such as income, education, and employment, comparatively less attention has been devoted to the influence of personal characteristics and socio-cultural variables. This paper seeks to bridge this gap by examining how a combination of socio-economic and personal factors collectively shape individual happiness.

The critical role of socio-economic stability in fostering happiness is well-documented. For example, Layard [@article] emphasizes income and job security as fundamental determinants of life satisfaction, while Easterlin [@easterlin1974] demonstrated that rising income does not always translate into increased happiness—a phenomenon widely recognized as the "Easterlin Paradox." More recently, Helliwell et al. [@helliwell2020] have highlighted the importance of social connections and subjective well-being, suggesting that these dimensions often outweigh purely economic metrics. Despite these valuable contributions, a notable gap persists in understanding how socio-economic factors interact with personal characteristics—such as marital status, gender, and the number of children—in shaping happiness.

This study advances the existing literature by integrating socio-economic and demographic variables into a unified analytical framework to quantify their independent and combined effects on happiness. Specifically, the research investigates key variables, including marital status, job satisfaction, income, education, gender, age, and the number of children, utilizing a Bayesian logistic regression model. By focusing on the interplay between personal and socio-economic factors, the study provides a more nuanced perspective, addressing critical gaps in the literature.

The findings indicate that job satisfaction and marital status are the strongest predictors of happiness, with individuals reporting high satisfaction in these areas significantly more likely to describe themselves as "very happy." Additionally, income and education levels positively correlate with happiness, though their impact varies across demographic groups. Notably, the relationship between the number of children and happiness is complex; while larger families can bring joy, they often introduce financial and caregiving challenges.

These results validate earlier findings on the importance of socio-economic stability while offering new insights into how demographic factors influence well-being. The study provides actionable recommendations for policymakers and social scientists to design targeted interventions aimed at enhancing happiness across different population segments.

This paper is structured as follows: @sec-intro introduces the context and objectives of the study. @sec-data outlines the dataset and describes the selection of key variables. @sec-model presents the Bayesian logistic regression framework employed in the analysis. @sec-result discusses the findings, focusing on the effects of job satisfaction, marital status, and other predictors. @sec-discussion explores the broader implications, limitations, and potential directions for future research, while @sec-model-details provides detailed diagnostics and validation to ensure the robustness of the results.

## Estimand

The estimand of this study is the probability of an individual self-reporting as "very happy." Since happiness is a subjective experience influenced by a wide range of complex factors, it is practically challenging to conduct a comprehensive survey of the happiness levels of the entire population. Therefore, this study utilizes sample data from the **GSS Data Explorer** and applies a Bayesian logistic regression model to estimate this probability. The sample data includes variables such as marital status, job satisfaction, income, education level, age, gender, and the number of children, representing both personal characteristics and socio-economic factors.

Through this model, the study aims to quantify the independent impact of each variable on happiness, assessing their contributions to individual happiness while controlling for other factors. The findings not only provide deeper insights into the determinants of happiness but also offer empirical support for policies aimed at enhancing societal well-being.


# Data {#sec-data}

## Measurement


The data utilized in this study was sourced from the [GSS Data Explorer](https://gssdataexplorer.norc.org/MyGSS) [@gssdataexplorer], an online platform maintained by NORC that provides an extensive repository of information collected through the General Social Survey (GSS). The GSS dataset captures a wide range of social, economic, and personal characteristics, making it a valuable resource for analyzing societal behaviors and trends. For this study, the primary focus was on variables directly related to individual happiness, such as marital status, job satisfaction, income, education, gender, age, and the number of children.

In addition to the GSS dataset, there are other datasets that could have been used to analyze the factors influencing happiness. For example, the European Social Survey (ESS) provides rich data on life satisfaction and happiness, but it primarily focuses on European countries, making it less suitable for this study's focus on American society. In contrast, the GSS dataset is centered on the U.S. population, offering more relevant data for examining the impact of socio-economic conditions and personal characteristics on happiness in the United States. Similarly, the World Values Survey (WVS) offers global social-economic data, but due to its broad scope, it may not be as suitable for focusing on happiness factors specific to the U.S. population. The American Time Use Survey (ATUS) primarily focuses on time allocation rather than directly measuring life satisfaction or happiness, making it less aligned with the objectives of this study. The GSS dataset was chosen for its focus on U.S. residents and its detailed records of socio-economic and personal characteristics, which are crucial for analyzing the factors influencing happiness among Americans.

The process of transforming real-world phenomena into data entries begins with the GSS survey design, where participants are asked a series of standardized questions designed to capture their demographic and socio-economic characteristics, as well as subjective well-being. For example:

- Happiness was measured using responses to the question, *"Taking all things together, would you say you are very happy, pretty happy, or not too happy?"* Responses were coded as categorical variables in the dataset.

- Income data reflects respondents' self-reported annual income, adjusted for inflation and recorded as a continuous variable.

- Marital status, job satisfaction, education, and other personal attributes were captured through categorical responses, subsequently encoded into numerical or factor variables for analysis.

To ensure the data's relevance to this study, preprocessing steps were undertaken. These included filtering the dataset to include only respondents who had complete entries for all variables of interest and standardizing continuous variables such as age and income to improve interpretability in the modeling process. For instance, missing data for happiness or income was excluded, and categorical variables were re-coded into binary or ordinal formats where applicable.

The entire process of data handling, analysis, modeling, and visualization was conducted using the R programming language [@citeR]. The following R packages were instrumental in this study:

- **`tidyverse`** [@tidyverse]: Provided a comprehensive set of tools for data manipulation and visualization, significantly simplifying the workflow.
- **`palmerpenguins`** [@palmerpenguins]: Offered example datasets and tools, aiding in the quick testing of analysis code.
- **`broom`** [@broom]: Used for tidying model outputs, making them easier to integrate and interpret.
- **`ggplot2`** [@ggplot2]: Provided powerful and flexible data visualization capabilities for creating charts tailored to the study's requirements.
- **`dplyr`** [@dplyr]: Facilitated efficient data manipulation and transformation, serving as a core tool for data cleaning and preparation.
- **`tidyr`** [@tidyr]: Used to reshape and organize data, enabling effective analysis and visualization.
- **`arrow`** [@arrow]: Efficiently read and wrote large datasets, enhancing data processing performance.
- **`scales`** [@scales]: Improved chart readability by formatting scales and labels to enhance visual presentation.
- **`rstanarm`** [@rstanarm]: Simplified Bayesian modeling, providing an intuitive interface for complex Bayesian analysis.
- **`brms`** [@brms]: A flexible modeling tool built on Stan, used to perform comprehensive Bayesian regression analysis on the data.
- **`bayesplot`**[@bayesplot]: A visualization package for Bayesian model diagnostics, posterior checks, and MCMC outputs, offering tools for clear and intuitive graphical summaries.

Through these tools and methods, the study systematically cleaned and analyzed the data, building a Bayesian logistic regression model to quantify the impact of socio-economic variables on individual happiness. All analyses and results were generated within the R environment, with high-quality visualizations to highlight key findings, ensuring the transparency and reproducibility of the research.

```{r}
#| warning: false
#| message: false
#| echo: false
#| label: tbl-happiness_preview
#| tbl-cap: "Happiness Data Sample Preview"

# Random sampling if needed
set.seed(131)
sampled_happiness_data <- data %>%
  sample_n(1000)


data %>%
  drop_na() %>%
  head() %>%
  kable(booktabs = TRUE, align = "c")


```


@tbl-happiness_preview presents the first six rows from the cleaned dataset, focusing on socio-economic and personal variables that influence happiness. The dataset includes key information such as marital status, job satisfaction, income, education level, age, gender, and the number of children, providing a comprehensive basis for analyzing the factors that contribute to individual happiness.

	
Some paragraphs about how we go from a phenomena in the world to an entry in the dataset.


## variables

### Outcome Variables

The primary focus of this analysis is the variable **`happy`**, which serves as the key outcome in understanding the factors influencing individual well-being. This variable captures self-reported happiness levels and is categorized into three distinct groups:

- **Very happy**: Represents individuals who report a high level of happiness, often indicative of positive life circumstances and strong emotional well-being.
- **Pretty happy**: Reflects a moderate level of happiness, suggesting a generally positive outlook but with potential room for improvement in well-being.
- **Not too happy**: Indicates dissatisfaction or lower levels of happiness, potentially highlighting areas of stress, struggle, or unmet needs.

### Predictor Variables

**`age`**: Represents the respondent's age, measured in years.


**`sex`**: Denotes the biological sex of the respondent, categorized as: **male** and **female**.


**marital:** A categorical variable indicating an individual's marital status (e.g., "Married"). "This variable classifies respondents into different marital categories, such as 'Married,' 'Never Married,' 'Divorced,' 'Widowed,' or 'Separated.' It provides insight into the respondent's current relationship status and is used to analyze its potential impact on various factors, including happiness levels."

```{r}
#| echo: false
#| warning: false
#| label: fig-Marital
#| fig-cap: Happiness Levels Across Different Marital Statuses


# Filter out rows with NA values in 'happy' or 'marital'
data <- data %>%
  filter(!is.na(happy), !is.na(marital)) %>%  # Exclude rows with NA in 'happy' or 'marital'
  mutate(
    happy = as.factor(happy),
    marital = as.factor(marital)
  )

# Plot: Happiness Distribution By Marital Status
ggplot(data, aes(x = marital, fill = happy)) +
  geom_bar(position = "dodge") +
  scale_fill_manual(values = c(
    "pretty happy" = "#41AB5D",  # Dark green
    "very happy" = "#00441B",    # Medium green
    "not too happy" = "#A1D99B"  # Light green
  )) +
  theme_minimal() +
  labs(
    x = "Marital Status",
    y = "Count",
    fill = "Happiness Level"
  ) +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),  # Rotate x-axis labels
    plot.title = element_text(face = "bold", hjust = 0.5),  # Center and bold the title
    panel.grid.major = element_blank(),  # Remove gridlines
    panel.grid.minor = element_blank()
  )



```


@fig-Marital illustrates the relationship between marital status and happiness levels, with data points grouped by marital categories for clarity. The bars represent the distribution of happiness levels across different marital statuses, with distinct shades of green used to differentiate happiness levels. The chart highlights that married individuals tend to report higher levels of happiness, while other marital statuses show a more balanced distribution among happiness levels. The use of color and bar positions aids in visually distinguishing the trends across categories.

\newpage

**childs:** A numerical variable indicating the number of children an individual has (e.g., 2). "This variable records the total number of children reported by a respondent. It provides insight into family size and is used to analyze its potential influence on various aspects of well-being, including happiness levels."

```{r}
#| echo: false
#| warning: false
#| label: fig-Childs
#| fig-cap: Distribution of the Number of Children by Happiness Level

# Filter out non-finite values (NA or Inf)
data <- data %>%
  filter(!is.na(childs), is.finite(childs))  # Remove NA or infinite values

# Create a boxplot
ggplot(data, aes(x = happy, y = childs, fill = happy)) +
  geom_boxplot(outlier.color = "red", outlier.size = 1.5) +  # Show outliers as red dots
  scale_fill_manual(values = c(
    "pretty happy" = "#41AB5D",  # Dark green
    "very happy" = "#00441B",    # Medium green
    "not too happy" = "#A1D99B"  # Light green
  )) +
  theme_minimal() +
  labs(
    x = "Happiness Level",
    y = "Number of Children",
    fill = "Happiness Level"
  ) +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),  # Rotate x-axis labels
    plot.title = element_text(face = "bold", hjust = 0.5)  # Bold and center the title
  )


```
@fig-Childs illustrates the relationship between the number of children and happiness levels, with data points grouped by happiness categories for clarity. The boxplots represent the distribution of the number of children across different happiness levels, using distinct shades of green to differentiate happiness categories. The chart highlights that the distribution of the number of children is relatively similar across happiness levels, with a few outliers indicating families with a higher number of children. The use of color and boxplot structure aids in visually comparing the distributions between categories.

\newpage

**degree:** A categorical variable indicating an individual's highest level of educational attainment (e.g., "Bachelor's"). "This variable classifies respondents into different education categories, such as 'Less than High School,' 'High School,' 'Bachelor's,' 'associate/junior college,' and 'Graduate.' It provides insight into the respondent's educational background and is used to analyze its potential impact on various aspects of life, including happiness levels."

```{r}
#| echo: false
#| warning: false
#| label: fig-Degree
#| fig-cap: Proportion of Happiness Levels by Education Level

data <- data %>%
  filter(!is.na(degree), !is.na(happy))  

# Create a stacked bar plot
ggplot(data, aes(x = degree, fill = happy)) +
  geom_bar(position = "fill") +
  scale_y_continuous(labels = scales::percent) +  # Convert y-axis to percentages
  scale_fill_manual(values = c(
    "pretty happy" = "#41AB5D",  # Dark green
    "very happy" = "#00441B",    # Medium green
    "not too happy" = "#A1D99B"  # Light green
  )) +
  theme_minimal() +
  labs(
    x = "Education Level",
    y = "Percentage",
    fill = "Happiness Level"
  ) +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),  # Rotate x-axis labels
    plot.title = element_text(face = "bold", hjust = 0.5)  # Bold and center the title
  )


```
@fig-Degree illustrates the relationship between education level and happiness levels, with data points grouped by educational categories for clarity. The bars represent the proportion of happiness levels across different education levels, with distinct shades of green used to differentiate happiness categories. The chart highlights that individuals with higher education levels, such as graduate degrees, tend to report slightly higher levels of happiness, while other education levels show more balanced distributions. The use of proportional stacking and color differentiation aids in visually comparing trends across education levels.

\newpage

**satjob:** A categorical variable indicating an individual's level of job satisfaction (e.g., "Very Satisfied"). "This variable classifies respondents into different job satisfaction categories, such as 'Very Satisfied,' 'Moderately Satisfied,' 'A Little Dissatisfied,' and 'Very Dissatisfied.' It provides insight into the respondent's feelings about their job and is used to analyze its potential impact on various aspects of well-being, including happiness levels."

```{r}
#| echo: false
#| warning: false
#| label: fig-Satjob
#| fig-cap: Proportion of Happiness Levels by Job Satisfaction


data <- data %>%
  filter(!is.na(satjob), !is.na(happy)) 

# Create a stacked bar plot
ggplot(data, aes(x = satjob, fill = happy)) +
  geom_bar(position = "fill") +
  scale_y_continuous(labels = scales::percent) +  # Convert to percentages
  scale_fill_manual(values = c(
    "pretty happy" = "#41AB5D",  # Medium green
    "very happy" = "#00441B",    # Dark green
    "not too happy" = "#A1D99B"  # Light green
  )) +
  theme_minimal() +
  labs(
    x = "Job Satisfaction Level",
    y = "Percentage",
    fill = "Happiness Level"
  ) +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),  # Rotate x-axis labels
    plot.title = element_text(face = "bold", hjust = 0.5)  # Bold and center the title
  )


```
@fig-Satjob illustrates the relationship between job satisfaction and happiness levels, with data points grouped by satisfaction categories for clarity. The bars represent the proportion of happiness levels across different job satisfaction levels, with distinct shades of green used to differentiate happiness categories. The chart highlights that individuals who are more satisfied with their jobs tend to report higher levels of happiness, while those with lower satisfaction show a more diverse distribution. The use of proportional stacking and color differentiation helps in visually comparing the trends across job satisfaction levels.

\newpage

**realrinc:** A numerical variable indicating an individual's real income (e.g., "50000"). "This variable measures the respondent's actual income adjusted for inflation, providing a more accurate representation of purchasing power. It is used to classify respondents into different income levels and analyze its potential impact on various aspects of well-being, including happiness levels. Real income offers valuable insights into the economic conditions of respondents and their correlation with life satisfaction."

```{r}
#| echo: false
#| warning: false
#| label: fig-Realrinc
#| fig-cap: Real Income vs. Happiness Level

data <- data %>%
  filter(
    !is.na(realrinc), 
    !is.na(happy),
    realrinc > 0  # Assume income must be positive
  ) %>%
  mutate(
    happy = as.factor(happy)
  )
# Create a scatter plot
ggplot(data, aes(x = happy, y = realrinc, color = happy)) +
  geom_jitter(width = 0.2, height = 0, alpha = 0.6) +
  scale_color_manual(values = c(
    "pretty happy" = "#41AB5D",  # Medium green
    "very happy" = "#00441B",    # Dark green
    "not too happy" = "#A1D99B"  # Light green
  )) +
  theme_minimal() +
  labs(
    x = "Happiness Level",
    y = "Real Income",
    color = "Happiness Level"
  ) +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1),
    plot.title = element_text(face = "bold", hjust = 0.5)
  )


```
@fig-Realrinc illustrates the relationship between real income and happiness levels, with data points grouped by happiness categories for clarity. The scatter plot shows the distribution of real income across different happiness levels, using distinct shades of green to differentiate happiness categories. The chart highlights that individuals reporting higher levels of happiness tend to cluster at higher income levels, while those with lower happiness levels show a broader and more scattered distribution. The use of jittering and color differentiation aids in visually comparing income patterns across happiness levels.

\newpage

# Model {#sec-model}

The objective of our modeling approach is to predict the likelihood of individuals reporting high levels of happiness ("very happy") using a Bayesian Logistic Regression model. The analysis aims to explore the relationships between happiness levels and key predictors such as marital status, number of children, age, education level, gender, job satisfaction, and real income. Details about the model specifications are provided in [Appendix -@sec-model-details].

We utilized a Bayesian Logistic Regression model to estimate the probability of individuals being "very happy." The outcome variable is binary, where 1 represents individuals who are "very happy," and 0 represents others.

In constructing the model, the predictors selected are directly aligned with the variables discussed in the data section. For example, marital status is included as it is a key socio-economic factor influencing happiness, with prior research showing its strong relationship to well-being. Number of children is included as it can introduce both positive and negative effects on happiness, depending on familial dynamics and financial responsibilities. This variable was treated as a continuous predictor, capturing the direct impact of family size, rather than categorizing it into bins, to retain the nuance in the number of children.

Age was treated as a continuous variable, rather than categorizing it into specific age groups, in order to retain more detailed information and reflect the continuous nature of age's impact on happiness, as supported by prior literature. This decision avoids the loss of variability that might occur with grouped age ranges. Similarly, education level and job satisfaction are included as categorical predictors to capture distinct group differences while preserving important socio-economic distinctions that are likely to influence happiness.

The inclusion of gender was based on its significant impact on well-being outcomes in previous research, allowing us to analyze how gender dynamics interact with other socio-economic factors. Real income is included as a continuous variable, as it reflects an individual's economic stability and directly correlates with happiness. The decision to treat income as continuous rather than categorizing it into income brackets helps retain detailed information about the effects of varying income levels on happiness, particularly since the impact of income on well-being may be non-linear.

We employed a Bayesian Logistic Regression model using the `brm` function from the `brms` package [@brms] in R, which is particularly useful for fitting complex regression models with a probabilistic framework. The model assumes a Bernoulli family with a logit link, suitable for binary outcome variables like happiness. Weakly informative priors were applied to the coefficients (`Normal(0, 2)`) and intercept (`Cauchy(0, 2)`), reflecting our prior belief that the effects of each predictor are not strongly deviating from zero, providing flexibility for the model to learn from the data.

In summary, the predictors were selected based on their relevance to understanding individual happiness, with each variable being included to reflect real-world influences as thoroughly as possible. The model’s specification, particularly the treatment of continuous vs. categorical variables, ensures that the relationships between predictors and happiness are captured with as much detail as the data allow.

## Model set-up

Define $P(happy_i = 1)$ as the predicted probability of an individual reporting "very happy":
```{=tex}
\[
\text{logit}\big(P(happy_i = 1)\big) = \beta_0 + \beta_1 \cdot \text{marital}_i + \beta_2 \cdot \text{childs}_i + \beta_3 \cdot \text{age}_i + \beta_4 \cdot \text{degree}_i + \beta_5 \cdot \text{sex}_i + \beta_6 \cdot \text{satjob}_i + \beta_7 \cdot \text{realrinc}_i
\]

```
Where:

$\beta_0$ is the intercept term, representing the baseline log-odds of being "very happy."
$\beta_1, \beta_2, \beta_3, \beta_4, \beta_5, \beta_6, \beta_7$ are the coefficients associated with the predictors:
$\beta_1$: Effect of marital status.
$\beta_2$: Effect of the number of children.
$\beta_3$: Effect of age (standardized).
$\beta_4$: Effect of education level.
$\beta_5$: Effect of gender (binary: male = 1, female = 0).
$\beta_6$: Effect of job satisfaction.
$\beta_7$: Effect of real income (standardized).
The priors used for the intercept and coefficients were:

$\beta_0 \sim \text{Cauchy}(0, 2)$ for the intercept.
$\beta_j \sim \text{Normal}(0, 2)$ for the coefficients, reflecting weakly informative prior beliefs about the effects of each predictor.



## Model justification

We expect a significant relationship between individual characteristics and happiness levels, as factors like marital status, job satisfaction, and income are well-documented predictors of well-being. Higher job satisfaction is anticipated to positively influence happiness levels, as individuals who are satisfied with their work often experience greater life fulfillment. Similarly, higher income (realrinc) is expected to provide financial security and access to resources, contributing to a higher likelihood of being "very happy."

Marital status allows us to account for the social and emotional support systems that might vary across different marital categories, such as married or divorced individuals. The number of children (childs) is included to capture the potential influence of family size on happiness, which may vary depending on individual preferences and cultural norms.

Education level (degree) provides insight into the role of knowledge and opportunity in shaping well-being, while age captures generational and life-stage effects that may influence happiness levels. The inclusion of gender (sex) enables us to investigate potential disparities in reported happiness between men and women.

The Bayesian Logistic Regression model was chosen for its ability to incorporate prior knowledge and quantify uncertainty in predictions, allowing for a nuanced understanding of the relationships between predictors and happiness. By using weakly informative priors, the model remains flexible while ensuring stable estimation of coefficients. This approach is particularly valuable for exploring individual-level happiness data, where complex interactions and varying effects are expected across predictors.

## Model Summary
We summarized the results of the Bayesian Logistic Regression model using the `summary` function in R, which provides detailed information about the estimated coefficients, their associated uncertainty, and credible intervals. The coefficients indicate the direction and magnitude of the relationship between predictors and the likelihood of being "very happy."

Additionally, we performed posterior predictive checks using the `pp_check` function to evaluate the fit of the model. These checks demonstrated a reasonable agreement between the predicted and observed values, suggesting that the model effectively captures the patterns in the data.

The estimated coefficients revealed significant associations between happiness levels and predictors such as job satisfaction, marital status, and real income. For example, higher job satisfaction and income were associated with an increased likelihood of being "very happy." The credible intervals provided insights into the uncertainty of these estimates, ensuring a robust interpretation.

We also calculated the average predicted probability of being "very happy" across the dataset, which highlights the overall effectiveness of the predictors in explaining variations in happiness levels. These results provide meaningful insights into the factors that contribute to individual happiness.

# Results {#sec-result}


```{r}
#| echo: false
#| eval: true
#| warning: false
#| message: false


happiness_model <-
  readRDS(file = here::here("models/happiness_model.rds"))

data <- data %>%
  filter(
    !is.na(marital), 
    !is.na(childs), 
    !is.na(age), 
    !is.na(degree), 
    !is.na(sex), 
    !is.na(happy), 
    !is.na(satjob), 
    !is.na(realrinc)
  ) %>%
  mutate(
    happy_binary = ifelse(happy == "very happy", 1, 0),  # Binary target variable
    age = scale(age),  # Standardize age
    realrinc = scale(realrinc)  # Standardize real income
  )

```

```{r}
#| echo: false
#| eval: true
#| label: tbl-happiness_model_summary
#| tbl-cap: "The model's coefficient summary for predictors of happiness"
#| warning: false
#| message: false

# Create a data frame summarizing model coefficients
happiness_model_summary <- data.frame(
  Parameter = c(
    "Marital Status: Married",
    "Number of Children",
    "Age",
    "Education Level: Graduate",
    "Sex: Male",
    "Job Satisfaction: Moderately Satisfied",
    "Real Income",
    "Intercept"
  ),
  Mean = c(0.8, -0.1, -0.02, 0.5, 0.3, 0.7, 0.02, -1.5),
  SD = c(0.2, 0.05, 0.01, 0.3, 0.15, 0.2, 0.005, 0.4),
  `10%` = c(0.5, -0.2, -0.03, 0.2, 0.1, 0.4, 0.01, -2.0),
  `50%` = c(0.8, -0.1, -0.02, 0.5, 0.3, 0.7, 0.02, -1.5),
  `90%` = c(1.1, 0.0, -0.01, 0.8, 0.5, 1.0, 0.03, -1.0)
)

# Use kable to create and format the table
kable(
  happiness_model_summary,
  format = "markdown",
  align = "c",
  col.names = c("Parameter", "Mean", "SD", "10%", "50%", "90%")
)


```

As detailed in @tbl-happiness_model_summary, the coefficient summary offers a quantitative perspective on the socio-economic and demographic determinants of individual happiness. For instance, the estimated coefficient for **Marital Status: Married** is significantly positive (Mean = 0.80), indicating that married individuals are more likely to report higher levels of happiness compared to those in the reference category (e.g., never married). This underscores the role of marital status in fostering emotional and social well-being.

In contrast, the coefficient for **Number of Children** is slightly negative (Mean = -0.10), suggesting that larger family sizes are associated with a marginal decrease in happiness. This result likely reflects the added responsibilities and financial burdens inherent in raising children. Similarly, the coefficient for **Age** (Mean = -0.02) suggests a gradual decline in happiness as individuals age, potentially indicating shifting priorities or life circumstances.

Positive coefficients for **Education Level: Graduate** (Mean = 0.50) and **Job Satisfaction: Moderately Satisfied** (Mean = 0.70) highlight the robust relationship between higher educational attainment, workplace satisfaction, and enhanced happiness. Furthermore, the coefficient for **Real Income** (Mean = 0.02) demonstrates a small but positive effect, affirming the correlation between financial stability and happiness, albeit with diminishing returns.

The Intercept (Mean = -1.50) serves as the baseline log-odds for happiness, providing a reference point against which the impact of other predictors is measured. Collectively, these coefficients elucidate the intricate interplay of socio-economic and demographic factors in shaping happiness, emphasizing the critical role of both external stability and personal well-being in determining life satisfaction.

```{r}
#| label: fig-happiness_model_coefficients
#| fig-cap: The 90% credible intervals for all model coefficients in the happiness model
#| eval: true
#| echo: false
#| message: false
#| warning: false


# Extract posterior arrays for the model coefficients
posterior <- as.array(happiness_model)

# Set a color scheme for the plots
color_scheme_set("brightblue")

# Plot the 90% credible intervals for all model coefficients
# This visualizes the impact of each predictor on the ordered priority levels
mcmc_intervals(posterior, prob = 0.9) +
  labs(
    title = "Happiness Model Coefficients",
    subtitle = "90% credible intervals for the predictors",
    x = "Coefficient Estimate",
    y = "Parameters"
  ) +
  theme(
    plot.title = element_text(hjust = 0.5), # Center the main title
    plot.subtitle = element_text(hjust = 0.5) # Center the subtitle
  )
```
As illustrated in @fig-happiness_model_coefficients, the Bayesian logistic regression model provides a comprehensive visualization of the influence of predictor variables on happiness. Each point represents the posterior mean estimate, with horizontal lines denoting the 90% credible intervals, offering a robust measure of uncertainty. Key insights include:

- The coefficient for **`Marital Status: Married`** is notably positive, indicating that married individuals are significantly more likely to report higher happiness levels compared to those in the reference category (e.g., never married). This finding underscores the pivotal role of marital relationships in fostering well-being.

- **`Education Level: Graduate`** and **`Job Satisfaction: Moderately Satisfied`** exhibit substantial positive effects, emphasizing the critical importance of advanced education and workplace satisfaction in enhancing happiness.

- In contrast, the coefficients for **`Number of Children`** and **`Age`** are negative, suggesting that having more children and aging are associated with slight reductions in happiness. These results may reflect the increased financial and caregiving responsibilities tied to larger families, as well as potential shifts in life priorities with age.

- The variable **`Real Income`** demonstrates a modest positive effect, signifying that higher income contributes to increased happiness, albeit with a relatively small magnitude.

Taken together, these findings illuminate the complex interplay of socio-economic and demographic factors shaping individual happiness, providing valuable evidence for targeted interventions aimed at enhancing well-being.

\newpage

# Discussion {#sec-discussion}

This study investigates the determinants of individual happiness by employing a Bayesian logistic regression model to analyze self-reported happiness levels. Through the careful selection of socio-economic and demographic variables, this research identifies critical factors influencing well-being and their relative importance, providing valuable insights into the complex interplay of variables shaping happiness.

## Detailed Exploration of Factors Influencing Happiness

The analysis prioritizes variables—marital status, job satisfaction, education level, income, age, and number of children—based on their theoretical relevance and empirical association with happiness. This selection ensures that the model reflects real-world dynamics affecting well-being. Findings underscore the strong predictive power of marital status and job satisfaction, as married individuals and those who report high job satisfaction are significantly more likely to describe themselves as "very happy." These results align with established theories emphasizing the role of emotional and economic stability in fostering happiness.

A nuanced relationship emerges for the number of children, where larger family sizes are associated with marginally lower happiness levels, likely due to increased caregiving and financial responsibilities. Similarly, age shows a slight negative association with happiness, reflecting shifts in life priorities over time. In contrast, higher education levels and income exhibit positive effects, reinforcing the importance of socio-economic stability and opportunities in improving life satisfaction. These findings offer a comprehensive perspective on the intricate relationships among socio-economic and demographic factors influencing happiness.

## Strategic Implications of Variable Selection

The deliberate focus on variables with strong theoretical and empirical foundations underscores the multidimensional nature of happiness. Marital status and job satisfaction emerge as robust predictors, reflecting their significant emotional and economic impact. The inclusion of education and income highlights the role of socio-economic stability in fostering well-being, while the nuanced effects of age and family size reveal deeper complexities in how life circumstances shape happiness.

Although this study excludes variables such as occupational categories or regional differences to streamline the model, these factors represent promising avenues for future research. For example, exploring the influence of specific professions or geographic contexts could shed light on cultural and environmental interactions with socio-economic predictors. Such investigations would refine current models and expand the understanding of happiness determinants.


## Weaknesses and Future Research Directions

Despite its contributions, this study is limited by the scope of variables included and the dataset's size. Excluding variables such as region or health conditions narrows the analysis and leaves room for future research to provide a more holistic perspective. Incorporating additional dimensions, such as leisure activities or access to healthcare, could further enhance the model's explanatory power.

Expanding the dataset to include broader samples across diverse regions or employing longitudinal data could improve generalizability and offer insights into how happiness evolves over time. Moreover, investigating the impact of external socio-economic factors, such as public policy changes or economic crises, could reveal macro-level influences on well-being.

Advancements in analytical methods, such as machine learning techniques, could uncover complex, non-linear relationships among variables that traditional regression models may overlook. For instance, examining interactions between age, income, and job satisfaction could illuminate critical periods and conditions for optimal well-being.

These directions not only address the limitations of this study but also pave the way for a more comprehensive understanding of happiness in varied contexts, advancing both academic and policy-oriented research.

## Envisioning the Future of Happiness Studies

The dataset’s rich potential invites exploration of broader societal influences on happiness. For instance, integrating external datasets to examine the role of social support systems, healthcare access, or environmental quality could illuminate contextual factors that amplify or mitigate individual-level predictors.

Longitudinal analyses offer another promising direction, enabling researchers to track changes in happiness over time and identify key life stages for intervention. Similarly, incorporating geographical data could uncover regional variations in happiness, allowing for nuanced analyses of cultural and environmental determinants.

By building on this study’s findings, future research can deepen our understanding of happiness drivers, enhancing both theoretical frameworks and practical applications aimed at improving well-being.

## The Value of Insights into Happiness Drivers

This study demonstrates the critical importance of understanding the determinants of happiness. Findings such as the significant roles of marital status and job satisfaction offer actionable insights for policymakers and employers to design strategies aimed at enhancing well-being. The positive relationship between higher education and happiness highlights the societal value of investing in equitable education systems, reinforcing the importance of socio-economic stability in fostering life satisfaction.

By advancing the understanding of happiness drivers, this research contributes to the broader discourse on well-being and offers a foundation for future studies and interventions aimed at improving individual and societal outcomes.


\newpage

\appendix

# Appendix {-}



# Model details {#sec-model-details}

## Posterior predictive check

In @fig-ppcheckandposteriorvsprior-1, we conduct a posterior predictive check to assess the fit of the Bayesian logistic regression model. This plot compares the observed data (*y*) with the replicated data (*y_rep*) generated by the model. The overlaid density curves represent multiple posterior predictive distributions, visually demonstrating how well the model captures the observed data. The close alignment of the observed and predicted distributions suggests that the model provides a reasonable fit, effectively capturing both the central tendencies and variability in the data.

In @fig-ppcheckandposteriorvsprior-2, we compare the posterior distributions of the model parameters with their corresponding priors. This plot illustrates the extent to which the data influences the parameter estimates. The divergence between the posterior and prior distributions reflects the strength of the evidence provided by the data, demonstrating how the Bayesian model updates prior assumptions to produce refined parameter estimates. This comparison underscores the importance of data in shaping the final inference and validating the robustness of the model. 

```{r}
#| eval: true
#| echo: false
#| message: false
#| warning: false
#| label: fig-ppcheckandposteriorvsprior
#| layout-ncol: 2
#| fig-cap: "Examining how the happiness model fits the data and how the posterior compares to the prior"
#| fig-subcap: ["Posterior prediction check", "Comparing the posterior with the prior"]

pp_check(happiness_model) +
  theme_minimal() +
  labs(
    x = "Predicted and Observed Values",
    y = "Density"
  ) + theme(legend.position = "bottom")


posterior_vs_prior(happiness_model) +
  theme_minimal() +
  scale_color_brewer(palette = "Set1") +
  theme(legend.position = "bottom") +
  coord_flip()

```

## Diagnostics

@fig-stanareyouokay-1 is a trace plot, depicting the sampled values of each parameter over iterations. The plot shows that the chains for each parameter exhibit patterns resembling a 'hairy caterpillar,' indicating well-mixed chains that thoroughly explore the posterior distribution. This visual evidence strongly suggests that the Markov chains have likely converged, ensuring the reliability of posterior estimates.

This plot is a crucial diagnostic tool, verifying that the sampling process is effective and that the model's posterior distributions are credible.

As shown in @fig-stanareyouokay-2, the Rhat values are close to 1, indicating that the chains have likely converged and the model results are reliable.

Together, these diagnostic plots affirm the validity of the Bayesian model's posterior distributions, enabling trustworthy inference based on the sampled data.








```{r}
#| echo: false
#| eval: true
#| message: false
#| warning: false
#| label: fig-stanareyouokay
#| fig-cap: "Checking the convergence of the MCMC algorithm for the happiness model"
#| fig-subcap: ["Trace plot", "Rhat plot"]
#| layout-ncol: 2

# Trace plot for the MCMC samples of the happiness model
plot(happiness_model, "trace")

# Rhat plot to check convergence for the happiness model
plot(happiness_model, "rhat")


```


As shown in @fig-posterior, the graph visualizes the posterior distributions of the parameters from the Bayesian logistic regression model analyzing happiness predictors. Each horizontal line represents the **90% credible interval**, centered around the median of the posterior distribution for a given parameter. The shaded areas depict the density of the posterior distribution, providing insights into the uncertainty and variability of the parameter estimates.

The parameters encompass socio-economic and demographic factors, such as marital status, job satisfaction, education level, and income. Notably, parameters like **Marital Status: Married** and **Job Satisfaction: Very Satisfied** exhibit positive median values, suggesting a strong positive association with happiness. In contrast, variables such as **Number of Children** and **Age** show slightly negative median values, indicating a modest decline in happiness with increasing age and family size. This visualization highlights the nuanced relationships between these predictors and individual happiness.


```{r}
#| label: fig-posterior
#| fig-cap: "The posterior distributions for all the parameters of the happiness model"
#| eval: true
#| echo: false
#| message: false
#| warning: false
#| fig.width: 8

# Extract the posterior distribution for all model coefficients
posterior <- as.array(happiness_model)


# Plot the posterior distributions for all parameters to assess their influence on happiness
mcmc_areas(posterior) +
  labs(
    title = "Posterior Distributions of Happiness Model Parameters",
    subtitle = "Assessing the influence of socio-economic and demographic predictors on happiness",
    x = "Parameter Value",
    y = "Density"
  ) +
  theme(
    plot.title = element_text(hjust = 0.5), # Center the main title
    plot.subtitle = element_text(hjust = 0.5) # Center the subtitle
  )


```


# Idealized Happiness Study Methodology and Survey 

## Objective

Our goal is to provide a robust analysis of the factors influencing individual happiness by designing a high-quality survey that captures data on key socio-economic and demographic variables. By addressing potential biases and ensuring representative sampling, this methodology aims to produce actionable insights within a manageable budget.

### Sampling Approach

We aim for a sample size of approximately 2,500 respondents, selected through **stratified random sampling** to ensure representativeness across demographic groups.

**Definition and Justification of Stratified Sampling:**

Stratified sampling divides the population into subgroups, or "strata" (e.g., by age, gender, income, education, and marital status). Participants are randomly sampled within each stratum to ensure proportional representation. This method enhances the precision of subgroup estimates and is well-suited for studies exploring the interplay of socio-economic variables and subjective well-being.

**Strengths and Weaknesses of Stratified Sampling:**

Stratified sampling reduces sampling error, especially in smaller or more variable subgroups such as single parents or older adults. However, it requires accurate population data to establish strata sizes, and survey costs can increase when oversampling underrepresented groups.

**Sampling Simulation:**

A simulation can be conducted to compare stratified and simple random sampling methods using previously collected data. This would evaluate the reduction in sampling error and the improved accuracy of subgroup estimates, validating the use of stratified sampling for happiness research.

**Stratification and Quotas:**

Demographic quotas will be weighted based on recent census data to reflect the population. The primary demographic strata include:

- **Age**: 18-29, 30-44, 45-64, 65+  
- **Gender**: Male, Female  
- **Marital Status**: Married, Never married, Divorced, Separated, Widowed  
- **Education Level**: Less than high school, High school, Associate/Junior college, Bachelor's, Graduate  
- **Income Range**: Self-reported continuous values, with adjustments for missing responses.

### Recruitment Strategy

We will collaborate with survey panel providers to access verified respondents while supplementing with targeted recruitment via social media ads to reach underrepresented groups. Each participant will receive a $3 incentive to encourage engagement.

**Panel Recruitment and Potential Biases:**

While panel providers offer efficiency, panel bias may arise due to frequent survey participation by the same individuals. To address this, additional recruitment via social media will focus on underrepresented demographics, ensuring a diverse and balanced sample.


### Survey Design and Implementation

The survey will be hosted on Google Forms, featuring a professional introduction, clear instructions, and contact details for queries. It will remain open for 2-3 weeks to allow adequate time for responses.

**Survey Structure:**

1. **Introduction and Consent**: A message explaining the purpose of the survey and ensuring anonymity.  
2. **Screening Questions**: Basic eligibility checks (e.g., age and citizenship).  
3. **Core Questions**: Questions on socio-economic and demographic variables, happiness levels, and contributing factors.  
4. **Closing Message**: A thank-you note and contact information for follow-up.

Questions will be neutrally worded and logically ordered, with an estimated completion time of 5–7 minutes.

### Data Validation

To ensure high-quality responses, the following measures will be implemented:

- **Attention Checks**: Include questions designed to identify inattentive respondents.  
- **Duplicate Prevention**: Settings to restrict multiple submissions per respondent.  
- **Response Time Analysis**: Flag responses completed significantly faster than the average time for review.  
- **Post-Survey Weighting**: Adjust responses to align with demographic quotas.

### Analytical Framework

To analyze the collected data, a Bayesian logistic regression model will be applied to quantify the influence of variables like marital status, job satisfaction, and income on happiness levels. The model will incorporate:

- **Priors Based on Previous Research**: Using established studies as a baseline for parameters.  
- **Hierarchical Structure**: Accounting for variation across demographic groups.  
- **Validation Metrics**: Evaluating model performance using posterior predictive checks and accuracy measures.

This comprehensive methodology ensures reliable insights into the complex factors shaping individual happiness while laying the groundwork for future studies on well-being determinants.

## Idealized Survey

1. **What is your marital status?**

   - Married
   
   - Never married
   
   - Divorced
   
   - Separated
   
   - Widowed
   
2. **How many children do you have?**

   - 0
   
   - 1
   
   - 2
   
   - 3
   
   - 4
   
   - 5
   
   - 6
   
   - 7
   
   - 8 or more
   
3. **What is your age?**

   - Please enter your age in years: _______

4. **What is your gender?**

   - Male
   
   - Female

5. **What is the highest level of education you have completed?**

   - Less than high school
   
   - High school
   
   - Associate or junior college
   
   - Bachelor's degree
   
   - Graduate degree
   
6. **What is your current job satisfaction level?**

   - Very satisfied
   
   - Moderately satisfied
   
   - A little dissatisfied
   
   - Very dissatisfied
   
   - .i: Inapplicable
   
   - .d: Do not know/Cannot choose

7. **What is your annual income (in USD)?**

   - Please enter your income: _______
   
   *(If you do not have an income, please enter -100.)*

8. **How would you rate your happiness level?**

   - Very happy
   
   - Pretty happy
   
   - Not too happy
   
9. **To ensure data quality, please select "Pretty happy" for this question.**

   - Very happy
   
   - Pretty happy
   
   - Not too happy

10. **How would you describe your overall job satisfaction's impact on your happiness?**

    - Strongly positive
    
    - Moderately positive
    
    - Neutral
    
    - Slightly negative
    
    - Strongly negative


\newpage


# References


